(function(n){n.fn.appear=function(t,i){var r=n.extend({data:undefined,one:!0},i);return this.each(function(){var i=n(this);i.appeared=!1;if(!t){i.trigger("appear",r.data);return}var u=n(window),f=function(){if(!i.is(":visible")){i.appeared=!1;return}var n=u.scrollLeft(),t=u.scrollTop(),f=i.offset(),e=f.left,o=f.top;o+i.height()<t||o>t+u.height()||e+i.width()<n||e>n+u.width()?i.appeared=!1:i.appeared||i.trigger("appear",r.data)},e=function(){i.appeared=!0;if(r.one){u.unbind("scroll",f);var e=n.inArray(f,n.fn.appear.checks);e<0||n.fn.appear.checks.splice(e,1)}t.apply(this,arguments)};if(r.one)i.one("appear",r.data,e);else i.bind("appear",r.data,e);u.scroll(f),n.fn.appear.checks.push(f),f()})},n.extend(n.fn.appear,{checks:[],timeout:null,checkAll:function(){var t=n.fn.appear.checks.length;if(t>0)while(t--)n.fn.appear.checks[t]()},run:function(){n.fn.appear.timeout&&clearTimeout(n.fn.appear.timeout),n.fn.appear.timeout=setTimeout(n.fn.appear.checkAll,20)}}),n.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(t,i){var r=n.fn[i];r&&(n.fn[i]=function(){var t=r.apply(this,arguments);return n.fn.appear.run(),t})})})(jQuery);